const para=
[
  
`
Apple Inc. is an American multinational technology company that specializes in consumer electronics, software and online services.
 Apple is the largest information technology company by revenue (totaling US$365.8 billion in 2021) and, as of January 2021
, it is the world's most valuable company, the fourth-largest personal computer vendor by unit sales and second-largest mobile phone manufacturer.
 It is one of the Big Five American information technology companies, alongside Alphabet, Amazon, Meta, and Microsoft.
Apple was founded as Apple Computer Company on April 1, 1976, by Steve Jobs, Steve Wozniak and Ronald Wayne to develop and sell Wozniak's
 Apple I personal computer. It was incorporated by Jobs and Wozniak as Apple Computer,
 Inc. in 1977 and the company's next computer, the Apple II became a best seller. Apple went public in 1980,
 to instant financial success. The company went onto develop new computers featuring innovative graphical user interfaces,
 including the original Macintosh, announced in a critically acclaimed advertisement, "1984", directed by Ridley Scott.
 By 1985, the high cost of its products and power struggles between executives caused problems. Wozniak stepped back from Apple amicably,
 while Jobs resigned to found NeXT, taking some Apple employees with him.
As the market for personal computers expanded and evolved throughout the 1990s,
 Apple lost considerable market share to the lower-priced duopoly of the Microsoft Windows operating system on Intel-powered PC clones
 (also known as "Wintel"). In 1997, weeks away from bankruptcy, the company bought NeXT to resolve Apple's unsuccessful operating
 system strategy and entice Jobs back to the company. Over the next decade, Jobs guided Apple back to profitability through
 a number of tactics including introducing the iMac, iPod, iPhone and iPad to critical acclaim, launching memorable advertising
 campaigns, opening the Apple Store retail chain, and acquiring numerous companies to broaden the company's product portfolio.
 Jobs resigned in 2011 for health reasons, and died two months later. He was succeeded as CEO by Tim Cook.
Apple became the first publicly traded U.S. company to be valued at over $1 trillion in August 2018, then $2 trillion in August 2020,
 and most recently $3 trillion in January 2022. The company sometimes receives criticism regarding the labor practices of its contractors,
 its environmental practices, and its business ethics, including anti-competitive practices and materials sourcing. Nevertheless,
 the company enjoys a high level of brand loyalty, and is ranked as one of the world's most valuable brands. 
`,

`
Microsoft Corporation is an American multinational technology corporation which produces computer software, consumer electronics,
 personal computers, and related services. Its best-known software products are the Microsoft Windows line of operating systems,
 the Microsoft Office suite, and the Internet Explorer and Edge web browsers. Its flagship hardware products are the Xbox video game
 consoles and the Microsoft Surface lineup of touchscreen personal computers. Microsoft ranked No. 21 in the 2020 Fortune 500 rankings
 of the largest United States corporations by total revenue; it was the world's largest software maker by revenue as of 2016.
 It is one of the Big Five American information technology companies, alongside Google, Amazon, Apple, and Meta.
Microsoft (the word being a portmanteau of "microcomputer software") was founded by Bill Gates and Paul Allen on April 4,
 1975, to develop and sell BASIC interpreters for the Altair 8800. It rose to dominate the personal computer operating system
 market with MS-DOS in the mid-1980s, followed by Microsoft Windows. The company's 1986 initial public offering (IPO), 
and subsequent rise in its share price, created three billionaires and an estimated 12,000 millionaires among Microsoft employees.
 Since the 1990s, it has increasingly diversified from the operating system market and has made a number of corporate acquisitions,
 their largest being the acquisition of LinkedIn for $26.2 billion in December 2016, followed by their acquisition of Skype
 Technologies for $8.5 billion in May 2011.
As of 2015, Microsoft is market-dominant in the IBM PC compatible operating system market and the office software suite market,
 although it has lost the majority of the overall operating system market to Android.
 The company also produces a wide range of other consumer and enterprise software for desktops, laptops, tabs, gadgets, and servers, including
 Internet search (with Bing), the digital services market (through MSN), mixed reality (HoloLens), cloud computing (Azure),
 and software development (Visual Studio).
Steve Ballmer replaced Gates as CEO in 2000, and later envisioned a "devices and services" strategy.
 This unfolded with Microsoft acquiring Danger Inc. in 2008, entering the personal computer production market for the first time in June
 2012 with the launch of the Microsoft Surface line of tablet computers, and later forming Microsoft Mobile
 through the acquisition of Nokia's devices and services division. Since Satya Nadella took over as CEO in 2014,
 the company has scaled back on hardware and has instead focused on cloud computing, a move that helped the company's
 shares reach its highest value since December 1999.
Earlier dethroned by Apple in 2010, in 2018 Microsoft reclaimed its position as the most valuable publicly
 traded company in the world. In April 2019, Microsoft reached the trillion-dollar market cap, becoming the third U.S.
 public company to be valued at over $1 trillion after Apple and Amazon respectively. As of 2020, Microsoft has the third-highest
 global brand valuation.
`,

`
Saudi Arabia, officially the Kingdom of Saudi Arabia (KSA), is a country on the Arabian Peninsula in Western Asia.
 It has a land area of about 2,150,000 km2 (830,000 sq mi), making it the fifth-largest country in Asia, the second-largest in the Arab world,
 and the largest in Western Asia. It is bordered by the Red Sea to the west, Jordan, Iraq, and Kuwait to the north, the Persian Gulf, Qatar,
 and the United Arab Emirates to the east, Oman to the southeast, and Yemen to the south. Bahrain is an island country off the east coast.
 The Gulf of Aqaba in the northwest separates Saudi Arabia from Egypt. Saudi Arabia is the only country with a coastline along both the Red
 Sea and the Persian Gulf, and most of its terrain consists of arid desert, lowland, steppe, and mountains. Its capital and largest city 
is Riyadh. The country is home to Mecca and Medina, the two holiest cities in Islam.
Pre-Islamic Arabia, the territory that constitutes modern-day Saudi Arabia, was the site of several ancient cultures and civilizations;
 the prehistory of Saudi Arabia shows some of the earliest traces of human activity in the world.
 The world's second-largest religion, Islam, emerged in what is now Saudi Arabia. In the early 7th century,
 the Islamic prophet Muhammad united the population of Arabia and created a single Islamic religious polity.
 Following his death in 632, his followers rapidly expanded the territory under Muslim rule beyond Arabia,
 conquering huge and unprecedented swathes of territory (from the Iberian Peninsula in the west to parts of Central and South Asia
 in the east) in a matter of decades. Arab dynasties originating from modern-day Saudi Arabia founded the Rashidun (632–661),
 Umayyad (661–750), Abbasid (750–1517), and Fatimid (909–1171) caliphates, as well as numerous other dynasties in Asia, Africa, and Europe.
`,

`
Pixar Animation Studios , commonly known as just Pixar, is an American computer animation studio known for its critically and
 commercially successful computer animated feature films.
 It is based in Emeryville, California, and is a subsidiary of Walt Disney Studios, which is owned by The Walt Disney Company.
Pixar began in 1979 as part of the Lucasfilm computer division, known as the Graphics Group, before its spin-off as a corporation
 in 1986, with funding from Apple co-founder Steve Jobs, who became its majority shareholder.
 Disney purchased Pixar in 2006 at a valuation of $7.4+ billion by converting each share of Pixar stock to 2.3 shares of Disney stock.
 Pixar is best known for its feature films, technologically powered by RenderMan, the company's own implementation of the industry-standard
 RenderMan Interface Specification image-rendering application programming interface.
 The studio's mascot is Luxo Jr., a desk lamp from the studio's 1986 short film of the same name.
Pixar has produced 25 feature films, beginning with Toy Story (1995), which is the first fully computer-animated feature film;
 its most recent film was Turning Red (2022).
 The studio has also produced many short films. As of July 2019, its feature films have earned approximately $14 billion at the worldwide
 box office, with an average worldwide gross of $680 million per film. Toy Story 3 (2010), Finding Dory (2016), Incredibles 2 (2018),
 and Toy Story 4 (2019) are all among the 50 highest-grossing films of all time, with Incredibles 2 being the fourth highest-grossing
 animated film of all time, with a gross of $1.2 billion; the other three also grossed over $1 billion. Moreover, 15 of Pixar's films
 are in the 50 highest-grossing animated films of all time.
The studio has earned 23 Academy Awards, 10 Golden Globe Awards, and 11 Grammy Awards, along with numerous other awards and acknowledgments.
 Many of Pixar's films have been nominated for the Academy Award for Best Animated Feature, since its inauguration in 2001, with eleven
 winners being Finding Nemo (2003), The Incredibles (2004), Ratatouille (2007), WALL-E (2008), Up (2009), Toy Story 3 (2010),
 Brave (2012), Inside Out (2015), Coco (2017), Toy Story 4 (2019), and Soul (2020); the five nominated without winning are Monsters,
 Inc. (2001), Cars (2006), Incredibles 2 (2018), Onward (2020), and Luca (2021). Up and Toy Story 3 were also nominated for the more
 competitive and inclusive Academy Award for Best Picture.
On February 10, 2009, Pixar executives John Lasseter, Brad Bird, Pete Docter, Andrew Stanton, and Lee Unkrich were presented with 
the Golden Lion award for Lifetime Achievement by the Venice Film Festival. The physical award was ceremoniously handed to Lucasfilm's founder,
 George Lucas.
`,
];

 const typingText =document.querySelector(".typing-text p");
 
 export let inputField=document.querySelector(".input-field");
 export  let mistakeD=-1;
 let accuMistake=-1;
 let charIndex=0;
let wpmD=document.querySelector(".word-min p");
let cpmD=document.querySelector(".Character-min p");
let accuracyD=document.querySelector(".accuracy p");
let resultMistakes=document.querySelector("#rMistakes");
let resultSpeed=document.querySelector("#rWpm");
let resultNetWpm=document.querySelector("#rNwpm");
let resultAccuracy=document.querySelector("#rAccuracy");

export function randomExpertParagraph()
{
    let randIndex=Math.floor(Math.random() * para.length);
    para[randIndex].split("").forEach(span =>    
    {
       let spanTag=`<span>${span}</span>`;
       typingText.innerHTML +=spanTag;
    });


//typingText.addEventListener("click",()=>inputField.focus());
inputField.focus();

}
 
export function initExpertTyping()
{
    var sTime = document.querySelector("#time").value;
    const characters=typingText.querySelectorAll("span");
    let typedChar = inputField.value.split("")[charIndex];
//    if user not typed any char and press backspace
    if(typedChar == null)
    {
       charIndex--;
       if(characters[charIndex].classList.contains("incorrect"))
       {
           mistakeD--;
       }
       characters[charIndex].classList.remove("correct","incorrect"); 
    }
    else
    {
      if(characters[charIndex].innerText===typedChar)
    {
        characters[charIndex].classList.add("correct");  
    }
    else
    {
        mistakeD++;
        accuMistake++;
        characters[charIndex].classList.add("incorrect");      
    }
    charIndex++;  
  
    }
    characters.forEach(span=>span.classList.remove("active"));
    characters[charIndex].classList.add("active");
    
    //Some terms calculation
    let wpm=Math.round(charIndex/5);
    let nwpmSpeed=Math.round(((charIndex-accuMistake)/5)/sTime);
    
    let wpmSpeed=Math.round(wpm/sTime);
//    let accuracy=Math.round((((charIndex-mistakeD))/charIndex)*100);
    let accuracy=Math.round((((charIndex-accuMistake)/charIndex))*100);
    accuracy=accuracy <0 || accuracy == Infinity ? 0: accuracy;
    let displayaccuracy=accuracy+"%";
    wpmSpeed=wpmSpeed <0 || !wpm || wpm == Infinity ? 0: wpmSpeed;
//    displaying number on screen
    
    wpmD.innerText=wpm;
    cpmD.innerText=charIndex-1;
    accuracyD.innerText=accuracy;
    resultMistakes.innerText=mistakeD;
    resultSpeed.innerText=wpmSpeed;
    resultNetWpm.innerText=nwpmSpeed;
    resultAccuracy.innerText=displayaccuracy;
}





